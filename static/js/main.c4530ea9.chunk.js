(this.webpackJsonpsimon=this.webpackJsonpsimon||[]).push([[0],{30:function(e,t,s){},31:function(e,t,s){},32:function(e,t,s){},34:function(e,t,s){},35:function(e,t,s){},41:function(e,t,s){},42:function(e,t,s){},43:function(e,t,s){},44:function(e,t,s){},45:function(e,t,s){},46:function(e,t,s){"use strict";s.r(t);var n,a,r=s(1),c=s.n(r),o=s(19),i=s.n(o),l=(s(30),s(24)),d=s(20),u=s(21),m=s(25),j=s(23),h=(s(31),s(32),s(0)),b=function(e){return Object(h.jsxs)("div",{className:"gameover",style:e.gameover?{display:"block"}:{display:"none"},children:[Object(h.jsx)("strong",{children:"Gameover "}),Object(h.jsx)("br",{})," ",Object(h.jsxs)("strong",{children:["Your Score: ",e.score]}),Object(h.jsx)("br",{}),null==e.newName?"Since you aren't signed in, your score hasn't been recorded":e.serverData?"Your score has been recorded":"Sorry your score hasn't been recorded. To record your score you need to use a VPN",Object(h.jsx)("br",{}),Object(h.jsx)("button",{onClick:e.tryAgainHandler,children:Object(h.jsx)("strong",{children:"Try again"})})]})},p=s(10),O=(s(34),function(){return Object(h.jsx)("div",{className:"spinner",children:Object(h.jsxs)("div",{className:"lds-spinner",children:[Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{})]})})}),g=(s(35),function(e){return Object(h.jsx)("div",{className:"info",style:e.appInfo?{display:"block"}:{display:"none"},children:Object(h.jsxs)("div",{children:[e.isPending?Object(h.jsx)(O,{}):e.serverData&&null!==e.sortUsers?Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:e.numberOftimes})," people are playing this game."]}),Object(h.jsx)("p",{children:"Highest Scores:"}),Object(h.jsxs)("strong",{children:[Object(h.jsxs)("ul",{className:"scores",children:[Object(h.jsx)("li",{children:void 0!==e.sortUsers[0]?Object(h.jsxs)("p",{children:[e.sortUsers[0].name,"  ",Object(h.jsx)("span",{children:e.sortUsers[0].score})]}):null}),Object(h.jsx)("li",{children:void 0!==e.sortUsers[1]?Object(h.jsxs)("p",{children:[e.sortUsers[1].name,"  ",Object(h.jsx)("span",{children:e.sortUsers[1].score})]}):null}),Object(h.jsx)("li",{children:void 0!==e.sortUsers[2]?Object(h.jsxs)("p",{children:[e.sortUsers[2].name,"  ",Object(h.jsx)("span",{children:e.sortUsers[2].score})]}):null})]}),Object(h.jsx)(p.b,{to:{pathname:"/Users",state:e.sortUsers,data:e.informationHandler},children:"See all the scores here"})]})]}):Object(h.jsxs)("p",{id:"oops",children:[Object(h.jsx)("strong",{children:"Oops!"}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),"Failed To Connect To The Server. We are using firebase service which is suspended for your country, Please use a VPN to see the Scores."]}),Object(h.jsx)("div",{className:"guest",children:e.signedIn&&e.menu?Object(h.jsxs)("p",{children:["Hi ",Object(h.jsx)("strong",{children:e.newName})," !",Object(h.jsx)("br",{}),"Welcome to Simon game. "]}):null})]})})}),f=(s(41),function(e){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"firstRow",children:[Object(h.jsx)("div",{className:"items itemOne",id:e.divId[0],onClick:e.click}),Object(h.jsx)("div",{className:"items itemTwo",id:e.divId[1],onClick:e.click})]}),Object(h.jsxs)("div",{className:"secondRow",children:[Object(h.jsx)("div",{className:"items itemThree",id:e.divId[2],onClick:e.click}),Object(h.jsx)("div",{className:"items itemFour",id:e.divId[3],onClick:e.click})]})]})}),v=(s(42),function(e){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("button",{className:"play",style:e.gameover?{display:"none"}:{display:"block"},onClick:e.playHandler,children:[Object(h.jsx)("h2",{children:e.play?"Restart":"Play"}),e.play?e.myTurn?"Your turn":"PC turn":""]}),Object(h.jsxs)("div",{className:"score",style:!e.appInfo||e.gameover?{display:"block"}:{display:"none"},children:[Object(h.jsxs)("p",{children:["Score: ",e.score]}),Object(h.jsx)("button",{className:"dashboardBtn",onClick:e.menuHandler,children:"Menu"})]})]})}),x=s(13),y=s(7),S=(s(43),function(e){var t=Object(r.useState)(!0),s=Object(y.a)(t,2),n=s[0],a=s[1],c=Object(r.useState)(null),o=Object(y.a)(c,2),i=o[0],l=o[1],d=Object(r.useState)(null),u=Object(y.a)(d,2),m=u[0],j=u[1],b=Object(r.useState)(null),p=Object(y.a)(b,2),O=p[0],g=p[1],f=Object(r.useState)(null),v=Object(y.a)(f,2),S=v[0],w=v[1],H=Object(r.useState)(!0),N=Object(y.a)(H,2),I=N[0],A=N[1],k=Object(r.useState)(!0),C=Object(y.a)(k,2),P=C[0],T=C[1],M=Object(r.useState)(!0),D=Object(y.a)(M,2),U=D[0],B=D[1],E=Object(r.useState)(!0),L=Object(y.a)(E,2),F=L[0],R=L[1],J=function(){a(!n)};return Object(h.jsx)("div",{style:{display:e.formShow?"block":"none"},children:Object(h.jsxs)("div",{className:"form",children:[Object(h.jsxs)("form",{action:"#",children:[n?Object(h.jsx)("p",{children:Object(h.jsx)("strong",{children:"Please sign in to record your score."})}):null,Object(h.jsxs)("div",{className:"warn",children:[!1===P?"Wrong password":null,n&&!1===I?"The username doesn't exist.":null,U&&F?null:"Please enter your name and password"]}),Object(h.jsxs)("div",{className:"inputName",children:[Object(h.jsx)("input",{type:"text",placeholder:"Name",id:"name",onChange:function(t){console.log(t),""===t.target.value?B(!1):B(!0),l(!0);if(/^[a-z A-Z 0-9]{3,10}$/i.test(t.target.value)&&(l(!1),j(!1),null!==e.users)){var s,n=Object(x.a)(e.users);try{for(n.s();!(s=n.n()).done;){s.value.name.toUpperCase()===t.target.value.toUpperCase()&&j(!0)}}catch(a){n.e(a)}finally{n.f()}}}}),n?null:i?Object(h.jsx)("p",{className:"warn",children:"Please enter 3-10 characters."}):m?Object(h.jsx)("p",{className:"warn",children:"Already exist."}):null,Object(h.jsx)("input",{type:"password",id:"pass",placeholder:"Password",onChange:function(e){""===e.target.value?R(!1):R(!0),g(!1);/^[a-z A-Z 0-9]{4,10}$/i.test(e.target.value)&&g(!0)}}),n&&!1===O?Object(h.jsx)("p",{className:"warn",children:"Please enter 4-10 characters."}):null,n?null:Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"password",id:"repeatPass",placeholder:"Repeat password",onChange:function(e){var t=document.getElementById("pass").value;w(t===e.target.value)}}),O?S?Object(h.jsx)("p",{className:"warn",style:{color:"green"},children:"Repeat password is matched."}):Object(h.jsx)("p",{className:"warn",children:"Repeat password doesn't match!"}):null]}),n?Object(h.jsx)("button",{onClick:function(){var t,s=document.getElementById("name").value,n=document.getElementById("pass").value,a=Object(x.a)(e.users);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(r.name.toUpperCase()===s.toUpperCase())return console.log(r.pass),r.pass==n?(e.gameMenuHandler(s),A(!0),void T(!0)):(A(!0),void T(!1));A(!1),T(!0)}}catch(c){a.e(c)}finally{a.f()}},children:"Sign in"}):Object(h.jsx)("button",{onClick:function(){var t,s=document.getElementById("name").value,n=document.getElementById("pass").value,a=document.getElementById("repeatPass").value,r=Object(x.a)(e.users);try{for(r.s();!(t=r.n()).done;){if(t.value.name.toUpperCase()===s.toUpperCase())return void j(!0)}}catch(c){r.e(c)}finally{r.f()}if(a===n&&O&&S&&!1===m)return fetch("https://highestscores-7983d-default-rtdb.firebaseio.com/users.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s,score:0,pass:n})}),e.gameMenuHandler(s),e.informationHandler(),void console.log("post");!a===n&&m?S(!1):(""!==n&&null!==s||(T(!0),B(!1)),O||g(!1))},children:"Create Account"}),Object(h.jsx)("br",{}),n?Object(h.jsx)("a",{href:"#",onClick:J,children:"Create an account"}):Object(h.jsxs)("p",{children:["Already have an account? ",Object(h.jsx)("a",{href:"#",onClick:J,children:"Sign in"})]})]})]}),Object(h.jsx)("br",{}),e.signShow&&e.serverData?null:Object(h.jsx)("a",{href:"#",onClick:e.guestHandler,children:"Play as a guest"})]})})}),w=(s(44),function(e){return Object(h.jsxs)("div",{className:"menu",style:{display:e.menu?"block":"none"},children:[Object(h.jsxs)("p",{children:["The sound is ",Object(h.jsx)("strong",{children:e.muteMode?"OFF":"ON"})]}),Object(h.jsx)("button",{className:"backToPlay",onClick:e.getBackHandler,children:"Go to play"}),Object(h.jsx)("button",{className:"muteMode",onClick:e.muteModeHandler,children:e.muteMode?"Sound Mode":"Mute mode"}),e.guest?Object(h.jsx)("button",{className:"logIn",onClick:e.logInHandler,children:"Log in"}):Object(h.jsx)("button",{className:"logout",onClick:e.logOutHandler,children:"Log out"}),Object(h.jsxs)("p",{className:"tip",children:[Object(h.jsx)("strong",{children:"Tip:"})," Hit the play button and let the device choose a color, then Repeat the color sequence. It starts from one color and every level the device will add one more color. "]})]})}),H=0,N=function(e){Object(m.a)(s,e);var t=Object(j.a)(s);function s(){var e;Object(d.a)(this,s);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={gameover:!1,play:!1,myTurn:!1,appInfo:!0,menu:!1,formShow:!0,guest:!1,signedIn:!1,muteMode:!1,myArr:[],machineArr:[],score:0,divId:["blue","red","yellow","green"],src:["assets/0.mp3","assets/1.mp3","assets/2.mp3","assets/3.mp3"],otherSounds:["assets/play.wav","assets/lose.wav"],initialState:e.state,newName:null,enterName:!1,newScore:0,isPending:!1,numberOftimes:0,serverData:!0,users:null,sortUsers:null,objectData:null},e.computerPlay=function(){n=Math.floor(4*Math.random()),e.state.machineArr.push(n),e.setState({machineArr:e.state.machineArr,myTurn:!1}),H=0,setTimeout((function(){e.playArrAudio()}),500)},e.playArrAudio=function(){e.setState({play:!0});var t=new Audio;H<e.state.machineArr.length&&(t.src=e.state.src[e.state.machineArr[H]],a=document.getElementById(e.state.divId[e.state.machineArr[H]]),t.play(),e.state.muteMode&&(t.volume=0),a.classList.add("down"),setTimeout((function(){a.classList.remove("down")}),300),H+=1),t.addEventListener("ended",e.playArrAudio),H===e.state.machineArr.length&&e.setState({myTurn:!0})},e.userPlay=function(t){n=e.state.divId.indexOf(t.target.id);var s=new Audio(e.state.src[n]);s.currentTime=0,e.state.play&&e.state.myTurn&&(s.play(),e.state.muteMode&&(s.volume=0),t.target.classList.add("down")),setTimeout((function(){t.target.classList.remove("down")}),200),e.state.myArr.push(n),e.setState({myArr:e.state.myArr});var a=JSON.stringify(e.state.myArr),r=JSON.stringify(e.state.machineArr);if(a===r&&e.state.play){var c=e.state.score+1;e.setState({score:c}),setTimeout((function(){e.computerPlay(),e.setState({myArr:[]})}),1e3)}a.length===r.length&&a!==r&&e.gameover()},e.gameover=function(){var t=new Audio(e.state.otherSounds[1]);t.play(),e.state.muteMode&&(t.volume=0),e.setState({machineArr:[],gameover:!0,play:!1,newScore:e.state.score}),setTimeout((function(){e.postHandler()}),100)},e.playHandler=function(){e.setState({score:0,machineArr:[],play:!0,myTurn:!1,numberOftimes:e.state.numberOftimes+1});var t=new Audio(e.state.otherSounds[0]);t.play(),e.state.muteMode&&(t.volume=0),setTimeout((function(){e.computerPlay()}),1e3)},e.saveHandler=function(){e.state.enterName&&e.setState({newName:e.state.newName})},e.componentDidMount=function(){var t=localStorage.getItem("name");null!==t&&(console.log(),e.setState({newName:t,formShow:!1,signedIn:!0,menu:!0})),e.informationHandler()},e.informationHandler=function(){e.setState({isPending:!0}),fetch("https://highestscores-7983d-default-rtdb.firebaseio.com/users.json").then((function(e){return e.json()})).then((function(t){console.log(t);var s=Object.values(t),n=Object(l.a)(s).sort((function(e,t){return t.score-e.score}));console.log(n),e.setState({objectData:t,users:s,sortUsers:n,isPending:!1,numberOftimes:s.length,serverData:!0})})).catch((function(){e.setState({isPending:!1,serverData:!1,formShow:!0,menu:!1})}))},e.postHandler=function(){var t,s=null;if(null!==e.state.users)for(var n in e.state.objectData)e.state.objectData[n].name===e.state.newName&&(s=e.state.newScore>e.state.objectData[n].score?e.state.newScore:e.state.objectData[n].score,t=n,console.log(s));null!=e.state.newName&&fetch("https://highestscores-7983d-default-rtdb.firebaseio.com/users/".concat(t,"/score.json"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})},e.gameMenuHandler=function(t){null!==t&&(localStorage.setItem("name",t),e.setState({newName:t,signedIn:!0})),e.setState({appInfo:!0,formShow:!1,menu:!0,guest:!1})},e.guestHandler=function(){e.setState({appInfo:!0,formShow:!1,guest:!0,menu:!0})},e.getBackHandler=function(){e.setState({appInfo:!1,formShow:!1,menu:!1})},e.logOutHandler=function(){e.setState({appInfo:!0,menu:!1,gameover:!1,formShow:!0,signedIn:!0}),localStorage.clear()},e.logInHandler=function(){e.setState({appInfo:!0,menu:!1,gameover:!1,formShow:!0,guest:!1,signedIn:!0})},e.menuHandler=function(){console.log(e.state.signedIn),e.setState({appInfo:!0,gameover:!1,play:!1}),e.setState({formShow:!1,menu:!0}),e.informationHandler()},e.tryAgainHandler=function(){e.setState({machineArr:[],myArr:[],score:0,gameover:!1,play:!1,myTurn:!1}),e.informationHandler()},e.muteModeHandler=function(){e.setState({muteMode:!e.state.muteMode})},e}return Object(u.a)(s,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(b,{gameover:this.state.gameover,score:this.state.score,newName:this.state.newName,serverData:this.state.serverData,tryAgainHandler:this.tryAgainHandler}),Object(h.jsx)(g,{enterName:this.state.enterName,newName:this.state.newName,newScore:this.state.newScore,isPending:this.state.isPending,serverData:this.state.serverData,sortUsers:this.state.sortUsers,appInfo:this.state.appInfo,numberOftimes:this.state.numberOftimes,signedIn:this.state.signedIn,menu:this.state.menu,muteMode:this.state.muteMode,informationHandler:this.informationHandler}),Object(h.jsx)(S,{change:this.changeHandler,clickSave:this.saveHandler,users:this.state.users,gameMenuHandler:this.gameMenuHandler,componentDidMount:this.componentDidMount,formShow:this.state.formShow,serverData:this.state.serverData,isPending:this.state.isPending,menuHandler:this.menuHandler,signedIn:this.state.signedIn,guestHandler:this.guestHandler,informationHandler:this.informationHandler}),Object(h.jsx)(w,{menu:this.state.menu,guest:this.state.guest,logOutHandler:this.logOutHandler,logInHandler:this.logInHandler,menuHandler:this.menuHandler,getBackHandler:this.getBackHandler,isPending:this.state.isPending,serverData:this.state.serverData,muteMode:this.state.muteMode,muteModeHandler:this.muteModeHandler}),Object(h.jsx)(v,{gameover:this.state.gameover,play:this.state.play,myTurn:this.state.myTurn,score:this.state.score,menuHandler:this.menuHandler,playHandler:this.playHandler,newName:this.state.newName,formShow:this.state.formShow,guest:this.state.guest}),Object(h.jsx)(f,{click:this.userPlay,divId:this.state.divId})]})}}]),s}(r.Component),I=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,47)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;s(e),n(e),a(e),r(e),c(e)}))},A=s(2),k=(s(45),function(){var e=Object(A.f)().state;return Object(h.jsxs)("div",{className:"users",children:[Object(h.jsx)("h1",{children:"All Scores"}),Object(h.jsx)("ul",{children:void 0!==e?e.map((function(e,t){return Object(h.jsxs)("li",{children:[t+1,"- ",e.name," ",Object(h.jsx)("p",{children:e.score})]},t)})):null})]})});i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsxs)(p.a,{children:[Object(h.jsx)(A.a,{exact:!0,path:"/",children:Object(h.jsx)(N,{})}),Object(h.jsx)(A.c,{children:Object(h.jsx)(A.a,{path:"/users",children:Object(h.jsx)(k,{})})})]})}),document.getElementById("root")),I()}},[[46,1,2]]]);
//# sourceMappingURL=main.c4530ea9.chunk.js.map